<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>forEach() 사용법</title>
<script>

	function choiceMenu(){
		let str="";
		let test=document.querySelectorAll('.menu').forEach((item)=>{
			if(item.checked) str += item.value+" ";
			item.checked = false;
		});
		
		if(str=="") alert("하나 이상의 메뉴는 선택해주세요.");
		else alert("당신이 선택한 메뉴는 "+str);
	}
	
//Lunch Choice 버튼을 클릭하면 main-menu영역에 있는 id속성값을 출력
	onload=()=>{
		document.querySelectorAll('.menus').forEach(item =>{
				/* item.onclick= ()=>{ */ //화살표 함수는 this를 지정할 수 없다.
				item.onclick = function () {
				const id = this.closest('.main-menu').getAttribute('id');
				console.log(id);
				alert(id);
			}
		});
		
	};
	
</script>
</head>
<body>
<h2>CheckBox Form...</h2>
<form action="#" name="frm">
	<div class="main-menu" id="lunch">
		<strong><h3>오늘 점심 메뉴를 모두 선택하세요</h3></strong>
		<input type="checkbox" name="menu" value="김치찌개" class="menu">김치찌개<br>
		<input type="checkbox" name="menu" value="돈까스" class="menu">왕돈까스<br>
		<input type="checkbox" name="menu" value="카레라이스" class="menu">인도카레<br>
		<input type="checkbox" name="menu" value="비빔밥" class="menu">비빔밥<br><br>
		<input type="button" value="메뉴선택" onclick="choiceMenu()">
		
		<button class="menus">Lunch Choice</button>
	</div>
	
	<div class="main-menu" id="dinner">
		<strong><h3>오늘 저녁 메뉴를 모두 선택하세요</h3></strong>
		<input type="checkbox" name="menu" value="김치찌개2" class="menu">김치찌개2<br>
		<input type="checkbox" name="menu" value="돈까스2" class="menu">왕돈까스2<br>
		<input type="checkbox" name="menu" value="카레라이스2" class="menu">인도카레2<br>
		<input type="checkbox" name="menu" value="비빔밥2" class="menu">비빔밥2<br><br>
		<input type="button" value="메뉴선택" onclick="choiceMenu()">
		
		<button class="menus">Dinner Choice</button>
	</div>
</form>

</body>
</html>